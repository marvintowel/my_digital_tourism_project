<!DOCTYPE html>
<html lang="it">

<head>
       <!-- Rimuovi i doppi include di Leaflet -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Include solo una versione di Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>

    <!-- CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="stylesheet" href="home.css">
    <link rel="stylesheet" href="city.css">
    <link rel="stylesheet" href="prova.css">

    <title>Viaggio sui passi di Gregorovius - Hospitality</title>

    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        #map {
            flex: 1;
            width: 100%;
            height: 600px; /* Altezza fissa per la mappa */
            z-index: 0;
        }

        .footer {
            z-index: 1;
            position: relative;
        }
    </style>
</head>

<body>
    <!-- barra di navigazione -->
    <div class="p-3 mb-2 bg-transparent text-dark">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">Navbar</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNavDropdown">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" aria-current="page" href="index.html"><strong>Home</strong></a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button"
                                data-bs-toggle="dropdown" aria-expanded="false">
                                <strong>Località</strong>
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                <li><a class="dropdown-item" href="Genazzano.html">Genazzano</a></li>
                                <li><a class="dropdown-item" href="Paliano.html">Paliano</a></li>
                                <li><a class="dropdown-item" href="Fiuggi.html">Fiuggi</a></li>
                                <li><a class="dropdown-item" href="Segni.html">Segni</a></li>
                                <li><a class="dropdown-item" href="Montecompatri.html">Montecompatri</a></li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="itinerario.html"><strong>Itinerario</strong></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="staff.html"><strong>Chi siamo</strong></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="feedback.html"><strong>Feedback</strong></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="hospitality.html"><strong>Hospitality</strong></a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>

    <div class="tab-content" id="pills-tabContent">
        <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">...
        </div>
        <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">...</div>
        <div class="tab-pane fade" id="pills-contact" role="tabpanel" aria-labelledby="pills-contact-tab">...</div>
    </div>
    <!-- inserisci il tuo html con le scritte che ci vuoi mettere -->
    <div class="central">
        <div class="container text-center">
            <div class="shadow-lg p-3 mb-5 bg-transparent rounded">
                <class="lead"><i><h3>Montecompatri</h3></i> 
                        <h6>Monte Compatri è un borgo dei Castelli Romani, situato su un colle di origine vulcanica a sud-est di Roma. Il centro storico, con le sue strade concentriche e le cantine scavate nel tufo, conserva un fascino autentico. La città si anima attorno a Palazzo Borghese (oggi Municipio) e alla chiesa di Santa Maria Assunta, con facciata di Carlo Rainaldi. Tra vicoli e piazzette spuntano fontane storiche come quella dell’Angelo, mentre nei dintorni si estendono boschi di castagno e percorsi geologici nel Parco Regionale dei Castelli Romani. Ogni stagione offre eventi culturali ed enogastronomici dedicati ai vini DOC e all’olio extravergine locale.</h6><br>
                    </i>
                    <class="lead"><i><h3>Segni</h3></i> 
                        <h6>Segni è immersa nella natura dei Monti Lepini, tra boschi di querce e castagni, ed è un ottimo punto di partenza per escursioni e passeggiate. Il clima è mite in estate e fresco in inverno, con panorami che spaziano fino alla pianura pontina. La cultura e la tradizione sono molto importanti, ed è per questo che si tramandano numerose festività cittadine, tra le quali: la sagra del Marrone Segnino: ogni autunno, si celebra la castagna tipica locale, presidio Slow Food. Eventi religiosi e storici: tra cui rievocazioni medievali e la festa patronale di San Bruno.</h6><br>
                    </i>
                    <class="lead"><i><h3>Genazzano</h3></i> 
                        <h6>.</h6><br>
                    </i>
                    <class="lead"><i><h3>Paliano</h3></i> 
                        <h6>.</h6><br>
                    </i>
                    <class="lead"><i><h3>Fiuggi</h3></i> 
                        <h6>.</h6><br>
                    </i>
                    </b>
                </p>
            </div>
        </div>
    </div>        

    <div id="map" class="container"></div>

     <script>
        // Inizializzazione mappa
        var map = L.map('map').setView([41.800, 13.150], 10);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

        // Correzione GeoJSON
        var poiData = {
            "type": "FeatureCollection",
            "features": [
// Genazzano
// attrazione
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [12.97094, 41.83308] },
                    "properties": {
                        "name": "Santuario della Madonna del Buon Consiglio",
                        "description": "Santuario famoso per la sua spiritualità e arte sacra.",
                        "type": "attrazione"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [12.97395, 41.83533] },
                    "properties": {
                        "name": "Castello Colonna",
                        "description": "Imponente struttura medievale che domina il borgo.",
                        "type": "attrazione"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [12.97266, 41.82967] },
                    "properties": {
                        "name": "Porta Romana",
                        "description": "Antica porta di accesso al borgo, simbolo del sistema difensivo.",
                        "type": "attrazione"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [12.9715, 41.8280] },
                    "properties": {
                        "name": "Fontana del Vignola",
                        "description": "Raffinata fontana rinascimentale nella piazza centrale.",
                        "type": "attrazione"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [12.97382, 41.82879] },
                    "properties": {
                        "name": "Ninfeo Bramante",
                        "description": "Raffinata struttura rinascimentale situata nei pressi del Santuario della Madonna del Buon Consiglio.",
                        "type": "attrazione"
                    }
                }
// Ristoranti
                ,{
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13., 41.] },
                    "properties": {
                        "name": "",
                        "description": "",
                        "type": "ristorante"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13., 41.] },
                    "properties": {
                        "name": "",
                        "description": "",
                        "type": "ristorante"
                    }
                },
//alloggio                
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13., 41.] },
                    "properties": {
                        "name": "",
                        "description": "",
                        "type": "house"
                    }
                },                

// Paliano
// attrazione
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13.05252, 41.81130] },
                    "properties": {
                        "name": "Palazzo Colonna",
                        "description": "Storico palazzo situato nel centro di Paliano, accanto alla Chiesa di Sant'Andrea Apostolo.",
                        "type": "attrazione"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13.05550, 41.80564] },
                    "properties": {
                        "name": "Chiesa di Sant'Andrea Apostolo",
                        "description": "Chiesa situata in Piazza Colonna, nel cuore di Paliano.",
                        "type": "attrazione"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13.04602, 41.77749] },
                    "properties": {
                        "name": "Mura Castellane e Porte Storiche",
                        "description": "Antiche mura e porte storiche come Porta Romana, Porta Napoletana e Porta Furba.",
                        "type": "attrazione"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13.0160, 41.7675] },
                    "properties": {
                        "name": "Monumento Naturale 'Selva di Paliano e Mola di Piscoli'",
                        "description": "Area naturale protetta che si estende su circa 413 ettari.",
                        "type": "attrazione"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13.08344, 41.77560] },
                    "properties": {
                        "name": "Santuario di Santa Maria di Pugliano",
                        "description": "Santuario situato nella contrada omonima nelle campagne di Paliano.",
                        "type": "attrazione"
                    }
                }
// Ristoranti
                ,{
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13., 41.] },
                    "properties": {
                        "name": "",
                        "description": "",
                        "type": "ristorante"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13., 41.] },
                    "properties": {
                        "name": "",
                        "description": "",
                        "type": "ristorante"
                    }
                },
//alloggio                
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13., 41.] },
                    "properties": {
                        "name": "",
                        "description": "",
                        "type": "house"
                    }
                },                
// Fiuggi
// attrazione
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13.21251, 41.78870] },
                    "properties": {
                        "name": "Terme di Fiuggi",
                        "description": "Centro termale famoso per le sue acque curative e percorsi benessere.",
                        "type": "attrazione"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13.22153, 41.79110] },
                    "properties": {
                        "name": "Fonte Bonifacio VIII",
                        "description": "Storica fonte termale immersa nel verde.",
                        "type": "attrazione"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13.2175, 41.8020] },
                    "properties": {
                        "name": "Lago di Canterno",
                        "description": "Lago naturale ideale per passeggiate e relax.",
                        "type": "attrazione"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13.22043, 41.80431] },
                    "properties": {
                        "name": "Collegiata di San Pietro Apostolo",
                        "description": "La principale chiesa di Fiuggi, situata nel cuore del centro storico.",
                        "type": "attrazione"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13.21942, 41.79588] },
                    "properties": {
                        "name": "Palazzo Fiuggi",
                        "description": "un'elegante struttura rinomata per la sua combinazione di storia, lusso e benessere.",
                        "type": "attrazione"
                    }
                }
// Ristoranti
                ,{
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13., 41.] },
                    "properties": {
                        "name": "",
                        "description": "",
                        "type": "ristorante"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13., 41.] },
                    "properties": {
                        "name": "",
                        "description": "",
                        "type": "ristorante"
                    }
                },
//alloggio                
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13., 41.] },
                    "properties": {
                        "name": "",
                        "description": "",
                        "type": "house"
                    }
                },                
// Segni
// attrazione
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13.01634, 41.69873] },
                    "properties": {
                        "name": "Mura Poligonali",
                        "description": "Antiche mura di epoca romana.",
                        "type": "attrazione"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13.02329, 41.69328] },
                    "properties": {
                        "name": "Cattedrale di Santa Maria Assunta",
                        "description": "Chiesa principale con elementi medievali.",
                        "type": "attrazione"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13.02358, 41.69311] },
                    "properties": {
                        "name": "Museo Archeologico di Segni",
                        "description": "Esposizione di reperti storici locali.",
                        "type": "attrazione"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13.02101, 41.69353] },
                    "properties": {
                        "name": "Porta Saracena",
                        "description": "Storica porta d'accesso al borgo.",
                        "type": "attrazione"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13.02456, 41.69715] },
                    "properties": {
                        "name": "Chiesa di San Pietro",
                        "description": "Chiesa con affreschi medievali.",
                        "type": "attrazione"
                    }
                }
// Ristoranti
                ,{
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13.02394, 41.68370] },
                    "properties": {
                        "name": "Scriccatrocco",
                        "description": "Il Ristorante Scroccarocco è un mix di professionalità e competenze messe al servizio dei suoi clienti. Ottimo pesce fresco e braceria, ma soprattutto accoglienza e ospitalità in una delle più belle e storiche località dei Monti Lepini: Segni. Tra i ristoranti più rinomati della provincia sud di Roma tra i Castelli Romani e la Ciociaria. Ampie sale per banchetti e per le vostre cerimonie, una sala inferiore particolarmente indicata per feste private, ma anche un ampio spazio all'aperto con vista panoramica. ll ristorante Scroccarocco è ben servito da un ampio parcheggio.",
                        "type": "ristorante"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13.02381, 41.69182] },
                    "properties": {
                        "name": "La Loggetta del Tartufo",
                        "description": "Locale caratteristico, situato nel centro storico del paese difronte a palazzo Cremona, conosciuto per la sua Loggetta medioevale. In un ambiente accogliente e familiare potrete gustare piatti tipici della cucina locale ed anche prelibatezze a base di tartufo nostrano, il tutto accompagnato da vini biologici dell'azienda vinicola Marco Carpineti.",
                        "type": "ristorante"
                    }
                },
//alloggio                
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [13.04781, 41.75003] },
                    "properties": {
                        "name": "Tenuta Terre dei Latini",
                        "description": "La Tenuta Terre dei Latini è un agriturismo situato a Segni (RM), immerso nell'antica Valle Latina, a pochi chilometri da Roma e dalle principali attrazioni turistiche come Rainbow MagicLand e Fiuggi. La struttura è il cuore di un'azienda agricola di 30 ettari, attiva nella produzione di cereali, oliveti e frutteti, tra cui ciliegi e frutti di bosco. La tenuta offre 8 camere finemente arredate, tutte dotate di bagno privato, aria condizionata e Wi-Fi gratuito. Le camere sono disposte al piano superiore dell'edificio, originariamente un vecchio fienile, ristrutturato con cura per mantenere l'equilibrio tra modernità e tradizione. Gli ospiti possono godere di una piscina panoramica immersa in un giardino di ulivi e ciliegi, ideale per momenti di relax all'aria aperta. La struttura dispone anche di ampi spazi per attività all'aperto e un salone per la colazione, che può ospitare fino a 100-120 persone. Il ristorante aziendale offre piatti della cucina locale, preparati con ingredienti freschi e di stagione provenienti direttamente dall'azienda agricola. Gli ospiti lodano frequentemente la pulizia, la cordialità del personale e la qualità della colazione. La posizione tranquilla e la bellezza del paesaggio circostante sono altri aspetti apprezzati.",
                        "type": "house"
                    }
                },

// Montecompatri
// attrazione  
                {   
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [12.73278, 41.80619] },
                    "properties": {
                        "name": "Convento di San Silvestro",
                        "description": "Convento con vista panoramica.",
                        "type": "attrazione"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [12.73330, 41.80544] },
                    "properties": {
                        "name": "Santuario della Madonna del Castagno",
                        "description": "Santuario immerso nella natura.",
                        "type": "attrazione"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [12.73709, 41.80837] },
                    "properties": {
                        "name": "Palazzo Borghese",
                        "description": "Palazzo storico nel borgo.",
                        "type": "attrazione"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [12.73787, 41.80959] },
                    "properties": {
                        "name": "Cattedrale di Santa Maria Assunta",
                        "description": "Chiesa principale del paese.",
                        "type": "attrazione"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [12.73736, 41.80643] },
                    "properties": {
                        "name": "Parco Calahorra",
                        "description": "Parco pubblico con aree verdi.",
                        "type": "attrazione"
                    }
                }
// Ristoranti
                ,{
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [12.73420, 41.82326] },
                    "properties": {
                        "name": "Il Casale delle Streghe",
                        "description": "Il Casale delle Streghe è un ristorante ricavato in un suggestivo casale seicentesco immerso nel verde di Monte Compatri. In estate si cena all’aperto tra ulivi e pergolati, mentre d’inverno la sala con volte in tufo e camino crea un’atmosfera calda e “misteriosa”. Il menù reinterpreta i classici laziali (carbonara, amatriciana, tortelli fatti in casa) affiancati a salumi e formaggi artigianali, con opzioni vegetariane, vegane e senza glutine. Dispone di Wi Fi, parcheggio privato, area bimbi ed eventi a tema; è aperto giov sab 19:30-23:30 e dom 12:30-15:30 (lun mer chiuso).",
                        "type": "ristorante"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [12.72687, 41.82505] },
                    "properties": {
                        "name": "Agriturismo Pallotta",
                        "description": "Immerso tra oliveti e vigneti dei Colli Albani, l’Agriturismo Pallotta offre una terrazza panoramica con vista su Roma e Monte Porzio. La cucina stagionale fa leva sui prodotti di propria produzione - olio EVO, Frascati Superiore DOCG, verdure e ortaggi biologico - con specialità come il flan di broccoli romani, risotti e paste fatte in casa e dolci tradizionali. Lo spazio interno rustico, con volte in pietra, si affianca a vaste aree all’aperto, perfette per cene romantiche, feste private e cerimonie.",
                        "type": "ristorante"
                    }
                },
//alloggio                
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [12.73569, 41.82132] },
                    "properties": {
                        "name": "Villa Mina by Interhome",
                        "description": "Villa Mina è una spaziosa villa indipendente immersa nel verde di Monte Compatri, a soli 35 km dal centro di Roma e a pochi minuti da Frascati e dal Parco dei Castelli Romani. Pensata per ospitare fino a 10 persone, dispone di cinque ampie camere da letto e quattro bagni eleganti, oltre a una cucina completamente attrezzata con forno, lavastoviglie e microonde. Il soggiorno è caratterizzato da un suggestivo camino e aria condizionata in tutti gli ambienti, mentre il Wi Fi, la TV satellitare e la lavatrice garantiscono ogni comfort moderno. All’esterno, la villa si affaccia su un parco recintato di 10 000 m², dove una piscina privata (stagionale), un pergolato ombreggiato, un’area barbecue e tavoli da pranzo all’aperto invitano al relax e alle conviviali cene sotto le stelle. Il parcheggio privato, l’accesso diretto alle strade principali e la vicinanza (4 min in auto) alla stazione di Colle Mattia rendono Villa Mina un punto di partenza ideale per esplorare le bellezze storiche e paesaggistiche dei Castelli Romani. Check in dalle 16:00 e check out entro le 10:00.",
                        "type": "house"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": { "type": "Point", "coordinates": [12.72469, 41.83676] },
                    "properties": {
                        "name": "Casale Mattia",
                        "description": "Casale Mattia è un’azienda vitivinicola a conduzione familiare, attiva dal 1960 sulle colline vulcaniche di Colle Mattia a Monte Compatri. Giunta alla terza generazione, pratica una coltivazione biologica certificata ICEA dal 1995, puntando su vitigni autoctoni come Malvasia di Candia, Trebbiano e Bombino. La cantina produce una gamma completa di etichette: dal Frascati DOC e Superiore DOCG al dolce Cannellino di Frascati, dagli spumanti ai rossi di carattere (Cesanese, Merlot, Shiraz) fino agli IGT Lazio Misa Bianco e Roma Rosso/Bianco. Grazie a visite guidate tra i filari e tour in cantina, accompagnati da degustazioni professionali, i visitatori scoprono i segreti della vinificazione tradizionale e possono acquistare i vini direttamente nel punto vendita di Frascati in via XX Settembre 48.",
                        "type": "house"
                    }
                }
            ]
        };
        let pointsLayer;
        let currentLocation = 'all';
        
// Semplificazione custom icon
        function createCustomIcon(feature) {
            const rating = feature.properties.rating;
            let iconUrl, iconType;
            
            switch (feature.properties.type) {
                case 'alloggio':
                iconType = 'house';
            break;
            case 'ristorante':
                iconType = 'restaurant';
            break;
            case 'attrazione': // italiano
            case 'attraction': // inglese
                iconType = 'attraction';
                break;
            default:
                iconType = 'attraction';
            }

            
            return L.divIcon({
                className: 'custom-icon',
                html: `<div style="position: relative; width: 25px; height: 41px;">
                       <svg width="25" height="41" style="position: absolute; top: 0; left: 0;">
                         ${iconType === 'house' ? 
                          `<path d="M12.5 0 L25 12.5 L25 41 L0 41 L0 12.5 Z" fill="#3388ff" />
                           <path d="M4 20 L4 37 L21 37 L21 20 L12.5 11.5 Z" fill="white" />
                           <path d="M10 30 L15 30 L15 37 L10 37 Z" fill="#3388ff" />` : 
                          iconType === 'restaurant' ?
                          `<path d="M12.5 0 L25 35 L12.5 41 L0 35 Z" fill="#8e44ad" />
                           <path d="M7 10 L9 10 L9 20 L12 20 L12 10 L14 10 L14 20 L17 20 L17 10 L19 10 L19 25 L17 25 L17 30 L8 30 L8 25 L7 25 Z" fill="white" stroke="white" stroke-width="0.5" />` :
                          `<path d="M12.5 0 L25 30 L12.5 41 L0 30 Z" fill="#ff3333" />
                           <text x="12.5" y="24" text-anchor="middle" fill="white" font-weight="bold" font-size="18">!</text>`}
                       </svg>
                       <div style="position: absolute; bottom: -3px; width: 100%; text-align: center; color: white; font-weight: bold; font-size: 8px;">
                         ${rating ? '★'.repeat(rating) : ''}
                       </div>
                       </div>`,
                iconSize: [25, 41],
                iconAnchor: [12.5, 41],
                popupAnchor: [0, -41]
            });
        }

// Aggiunta POI con controllo degli errori
        try {
            L.geoJSON(poiData, {
                pointToLayer: (feature, latlng) => {
                    return L.marker(latlng, { 
                        icon: createCustomIcon(feature) 
                    });
                },
                onEachFeature: (feature, layer) => {
                    layer.bindPopup(`
                        <b>${feature.properties.name}</b><br>
                        ${feature.properties.description}
                    `);
                }
            }).addTo(map);
        } catch (e) {
            console.error("Errore nel caricamento dei POI:", e);
        }

// Aggiunta dei percorsi per ogni comune

// Percorso nel Comune di Genazzano (colore viola)
        var routeGenazzano = [
            [41.83308, 12.97094],
            [41.83533, 12.97395],
            [41.82967, 12.97266],
            [41.8280, 12.9715],
            [41.82879, 12.97382]
        ];
        L.polyline(routeGenazzano, { color: 'purple' }).bindPopup("Percorso nel Comune di Genazzano").addTo(map);

// Percorso aggiornato per il Comune di Paliano (colore blu)
        var routePaliano = [
            [41.81130, 13.05252],
            [41.80564, 13.05550],
            [41.77749, 13.04602],
            [41.7675, 13.0160],
            [41.77560, 13.08344]
        ];
        L.polyline(routePaliano, { color: 'blue' }).bindPopup("Percorso nel Comune di Paliano").addTo(map);

// Percorso nel Comune di Fiuggi (colore rosso)
        var routeFiuggi = [
            [41.78870, 13.21251],
            [41.79110, 13.22153],
            [41.8020, 13.2175],
            [41.80431, 13.22043],
            [41.79588, 13.21942]
        ];
        L.polyline(routeFiuggi, { color: 'red' }).bindPopup("Percorso nel Comune di Fiuggi").addTo(map);

// Percorso nel Comune di Segni (colore verde)
        var routeSegni = [
            [41.69873, 13.01634],
            [41.69328, 13.02329],
            [41.69311, 13.02358],
            [41.69353, 13.02101],
            [41.69715, 13.02456]
        ];
        L.polyline(routeSegni, { color: 'green' }).bindPopup("Percorso nel Comune di Segni").addTo(map);

// Percorso nel Comune di Montecompatri (colore arancione)
        var routeMontecompatri = [
            [41.80619, 12.73278],
            [41.80544, 12.73330],
            [41.80837, 12.73709],
            [41.80959, 12.73787],
            [41.80643, 12.73736]
        ];
        L.polyline(routeMontecompatri, { color: 'orange' }).bindPopup("Percorso nel Comune di Montecompatri").addTo(map);

// Percorso tra i comuni nell'ordine richiesto
        var routeComuni = [
            [41.83308, 12.97094], // Genazzano
            [41.81130, 13.05252], // Paliano
            [41.78870, 13.21251], // Fiuggi
            [41.69873, 13.01634], // Segni
            [41.80619, 12.73278] // Montecompatri
        ];
        L.polyline(routeComuni, { color: 'yellow' }).bindPopup("Percorso tra i Comuni").addTo(map);

    </script>
    <footer class="footer mt-auto py-3">
        <div class="container">
            <div>
                <img src="immagini/tor vergata.png" height="30"><br><br>
                <span class="text-muted" style="color: black !important">© Corso di Turismo Digitale 2025.</span>
            </div>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
        crossorigin="anonymous"></script>
</body>

</html>